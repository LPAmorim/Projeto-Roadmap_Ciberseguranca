<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roadmap Cibersegurança</title>

    <link rel="stylesheet" href="../css/entretenimento.css" />
    <link rel="icon" href="../public/assets/icon/Logan.png">
    <script src="../js/sessao.js"></script>
</head>

<body>
    <header>
        <div class="container">
            <div class="header-container">
                <a href="./index.html"><img class="logo" src="../assets/icon/Logan.png"
                        alt="Logo Roadmap Cibersegurança" /></a>
                <h1 class="titulo">ROADMAP<br>CIBERSEGURANÇA</h1>
            </div>

            <nav>
                <ul>
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./roadmap.html">Roadmap</a></li>
                    <li><a class="atual" href="./entretenimento.html">Entretenimento</a></li>
                    <li><a href="./insight.html">Insights</a></li>
                    <li><a class="sair" onclick="limparSessao()">Sair</a></li>
                </ul>
            </nav>
            <div class="container-login">
                <img class="perfil-login" src="../assets/icon/Icone de Perfil padrão.png">
                <span class="b_usuario-name" id="b_usuario">dfghj</span>
            </div>
        </div>
    </header>

    <section class="section-hero">
        <div class="container-hero">
            <h1 class="title">Onde Tudo começou</span></h1>

            <h2 class="sub-titulo">Filmes e séries que despertaram minha paixãopor tecnologia e cibersegurança.</h2>

            <p>
                Esta seção é dedicada ao entretenimento queinspira. Aqui, compartilho filmes e séries quemarcaram o
                início da minha jornada no mundoda tecnologia. Além disso, você pode conhecer minha notapessoal sobre
                cada obra e deixar a sua opinião— vote, avalie e participe.
            </p>


        </div>

        <div class="hero-image">
            <img src="../assets/filmes-series.png" alt="" />

            <div class="verse">
                Filmes e séries que me motivaram e talvez possam motivar você também.
            </div>
        </div>

    </section>

    <div class="alerta_erro">
        <div class="card_erro" id="cardErro">
            <span id="mensagem_erro"></span>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/1.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Hacker: Todo crime tem um início</strong>
                    <p>
                        É um thriller criminal que segue Alex Danyliuk, um jovem imigrante que se envolve no mundo do
                        cibercrime. O filme explora temas como moedas virtuais e a evolução da internet no século XXI.
                        Alex toma uma decisão para mudar a vida de seus pais, que estavam enfrentando problemas
                        financeiros.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt3173594/?ref_=nv_sr_srsg_0_tt_1_nm_0_in_0_q_Hacker%253A%2520Todo%2520crime%2520tem%2520um%2520in%25C3%25AD">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media1" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota1">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota1.value), 1)">Encaminhar</button></p>
                    </p>
                    </p>
                    <p>Disponível em: YouTube | Google Drive e via streaming pago</p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards" style="min-height: 680px;">
        <div class="card">
            <div class="posters">
                <img style="height: 114%;" src="../assets/2.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Mr. Robot (2015–2019)</strong>
                    <p>
                        Elliot Alderson (Rami Malek) é um jovem programadorbrilhante, mas socialmente retraído, que
                        trabalha comoengenheiro de segurança virtual durante o dia e atua comohacker vigilante à noite.
                        Sua vida muda quando é recrutadopor um misterioso grupo de hackers liderado por "Mr.Robot"
                        (Christian Slater) para destruir a empresa que ele épago para proteger. A série mergulha em
                        temas comocibersegurança, vigilância e a luta interna de Elliot contraseus próprios demônios.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt4158110/?ref_=nv_sr_srsg_0_tt_6_nm_2_in_0_q_mr">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Ficção e Tecnológica </p>
                    <p>Nota de 0 a 5: <span id="media2" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota2">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota2.value), 2)">Encaminhar</button></p>

                    <p>Disponível em: You Cine | Apple TV e via streaming pago</p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/3.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Snowden: Herói ou Traidor</strong>
                    <p>
                        O filme retrata a história real de EdwardSnowden, ex-analista da NSA, que revelouao mundo
                        detalhes de programas devigilância global do governo dos EUA. Atrama aborda questões de
                        privacidade,ética e segurança nacional.
                    </p>

                    <a class="botao" href="https://www.imdb.com/pt/title/tt3774114/?ref_=fn_all_ttl_1">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Baseado em Fatos Reais</p>
                    <p>Nota de 0 a 5: <span id="media3" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota3">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota3.value), 3)">Encaminhar</button></p>
                    </p>
                    <p>Disponível em: Amazon Prime | You Cine e via streaming pago.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/4.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Invasores – Nenhum Sistema Está a Salvo</strong>
                    <p>
                        Benjamin, um jovem hacker alemão,junta-se a um grupo de hackers quebusca reconhecimento mundial.
                        O filmeexplora temas de identidade, fama e asconsequências do cibercrime.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt3042408/?ref_=nv_sr_srsg_0_tt_1_nm_0_in_0_q_Invasores%2520%25E2%2580%2593%2520Nenhum%2520Sistema%2520Est">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media4" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota4">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota4.value), 4)">Encaminhar</button></p>
                    </p>

                    <p>Disponível em: You Cine | Apple TV e via streaming pago.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img style="min-height: 102.5%;" src="../assets/5.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Hacker: Todo crime tem um início</strong>
                    <p>
                        Thomas Anderson, um programador decomputadores, descobre que o mundo que conheceé uma simulação
                        criada por máquinas para controlara humanidade. Com a ajuda de rebeldes, ele acordapara a
                        realidade e assume o papel de “O Escolhido”.Matrix é um clássico que mistura cyberpunk,
                        filosofiae crítica social sobre tecnologia e liberdade.
                    </p>

                    <a class="botao" href="https://www.imdb.com/pt/title/tt0133093/">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media5" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota5">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota5.value), 5)">Encaminhar</button></p>
                    </p>

                    <p>Disponível em: Netflix | You Cine e via streaming pago.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/6.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>O jogo da Imitação (2014)</strong>
                    <p>
                        A história de Alan Turing, matemáticobritânico que decifrou códigos nazistasdurante a Segunda
                        Guerra Mundial,contribuindo para o desenvolvimentoda computação moderna.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt2084970/?ref_=nv_sr_srsg_2_tt_8_nm_0_in_0_q_O%2520jogo%2520da%2520">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media6" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota6">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota( Number(ipt_nota6.value), 6)">Encaminhar</button></p>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/7.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Black Mirror (2011 - 2019)</strong>
                    <p>
                        Série antológica que explora um futuropróximo onde a tecnologia colide comos instintos humanos
                        mais sombrios,levantando questões éticas sobreinovação e sociedade.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt2085059/?ref_=nv_sr_srsg_4_tt_2_nm_5_in_0_q_black%2520">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media7" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota7">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota( Number(ipt_nota7.value), 7)">Encaminhar</button></p>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="conteiner-cards">
        <div class="card">
            <div class="posters">
                <img src="../assets/8.png" alt="" />
            </div>
            <div class="info-card">
                <div>
                    <h2>Sinopse</h2>
                    <strong>Hacker: Você Não Está no Controle (2015)</strong>
                    <p>
                        Um hacker condenado é liberado da prisãopara ajudar as autoridades americanas echinesas a
                        rastrear uma rede de crimescibernéticos que ameaça a segurança global.O filme mergulha em
                        ataques virtuais,espionagem e o impacto da tecnologia nasrelações internacionais.
                    </p>

                    <a class="botao"
                        href="https://www.imdb.com/pt/title/tt2717822/?reasonForLanguagePrompt=browser_header_mismatch">Saiba mais</a>

                </div>

                <div class="detalhes">
                    <p>Categoria: Hacker e Cibersegurança</p>
                    <p>Nota de 0 a 5: <span id="media8" class="media"> 4.6 </span></p>
                    <p>Avalie Aqui:
                        <select id="ipt_nota8">
                            <option selected disabled>Selecione</option>
                            <option value="1">1 estrela</option>
                            <option value="2">2 estrelas</option>
                            <option value="3">3 estrelas</option>
                            <option value="4">4 estrelas</option>
                            <option value="5">5 estrelas</option>
                        </select>

                    <p>Enviar avaliação: <button class="button_eviar"
                            onclick="enviarNota(Number(ipt_nota8.value), 8)">Encaminhar</button></p>
                    </p>

                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="social">
            <div class="container-social">
                <ul>
                    <a href="https://www.linkedin.com/in/LucasAmorim-lcxAmorim/">Linkedin</a>
                    <a href="https://github.com/LPAmorim">GitHub</a>
                    <a href="https://open.spotify.com/playlist/6quxUsvyvcCh60BZAWldWb?pi=4KZGO39iTuyqn">Spotify</a>
                </ul>
                <ul class="autoria">
                    <a href="./index.html">Home</a>
                    <a href="./roadmap.html">Roadmap</a>
                    <a href="./entretenimento.html">Entretenimento</a>
                    <a href="./insight.html">Insights</a>
                </ul>
                <p>&copy; 2025 LPAmorim. Desenvolvido por Lucas Pereira Amorim Santos. &#10013;</p>
            </div>

            <div class="author">
                <a href="https://sptech.school/"><img src="/assets/icon/Logan-SPTech.png" alt="Logan-SPTech"></a>
                <small>V1.0.0</small>

            </div>
        </div>
    </footer>

</body>

</html>

<script>
    window.onload = () => {
        validarSessao(),
            atualizarPoster()
    };

    function enviarNota(notaUser, idDoPoster) {
        var idUser = sessionStorage.ID_user;

        fetch("/insight/inserir", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                idUsuario: idUser,
                notaUser: notaUser,
                posterId: idDoPoster,
            }),
        })
            .then(function (resposta) {
                console.log("Status da resposta:", resposta.status);

                if (resposta.ok) {
                    // Tudo certo (status 200 a 299, inclusive 201)
                    return resposta.text(); // pega o texto da resposta
                } else {
                    // Status 400, 500 etc — ainda é uma resposta do servidor, mas com erro
                    return resposta.text().then(function (textoErro) {
                        throw ("Erro do servidor: " + textoErro);
                    });
                }
            })
            .then(function (mensagem) {
                console.log("Mensagem do servidor:", mensagem);
                posterMedia(idDoPoster) // media

                mensagem_erro.innerHTML = "Poste avaliado com sucesso...";
                cardErro.style.display = "flex";

                setInterval(() => {
                    finalizarAtualizar()
                }, 3000);
            })
            .catch(function (erro) {
                console.error("Erro na requisição:", erro.message);

                mensagem_erro.innerHTML = "Somente uma avaliação por poster";
                cardErro.style.display = "flex";

                setInterval(() => {
                    finalizarAtualizar()
                }, 4000);
            });
    }


    function posterMedia(idDoPoster) {
        fetch(`/insight/listar?posterId=${idDoPoster}`, {
            method: "GET",
            headers: {
                "Content-Type": "application/json",
            },
        })
            .then(function (resposta) {
                console.log("Status da resposta:", resposta.status);

                if (resposta.ok) {
                    return resposta.json(); // pega o resultado da média

                } else {
                    return resposta.text().then(function (textoErro) {
                        throw ("Erro do servidor: " + textoErro);
                    });
                }
            })
            .then(function (media) {
                console.log("Nova média recebida:", media);
                // atualizar o valor da antiga media com a nova.
                document.getElementById(`media${idDoPoster}`).innerText = media;
            })
            .catch(function (erro) {
                console.error("Erro na requisição:", erro.message);
                mensagem_erro.innerHTML = "Erro ao buscar média";
                cardErro.style.display = "flex";

                setInterval(() => {
                    finalizarAtualizar();
                }, 4000);
            });
    }

    function atualizarPoster() {
        fetch("/insight/poster", {
            method: "GET",
            headers: {
                "Content-Type": "application/json",
            },
        })
            .then(function (res) {
                console.log("Status da resposta:", res.status);

                if (res.ok) {
                    return res.json();

                } else {
                    return res.text().then(texto => {
                        console.error("Erro do servidor:", texto);
                        throw ("Erro do servidor");
                    });

                }
            })
            .then(function (res) {
                console.log(typeof res);
                console.log(res);

                for (let i = 0; i < res.length; i++) {
                    document.getElementById(`media${res[i].posterId}`).innerText = res[i].media;
                }

            })
            .catch(function (erro) {
                console.error("Erro na requisição:", erro.message);

            });
    }
</script>